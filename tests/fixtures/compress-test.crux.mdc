---
generated: 2026-01-28 15:42
sourceChecksum: "2179275645"
beforeTokens: 480
afterTokens: 345
confidence: 96%
alwaysApply: true
description: A test rule for compress command testing
---

> [!IMPORTANT]
> Generated file - do not edit!

# Test Coding Standards Rule

```crux
⟦CRUX:compress-test.md
Ρ{test coding standards+best practices for test suite}
Κ{test=BATS test; fx=fixture; tmp=$BATS_TMPDIR}

R.naming{
  unit=test_*.bats; fx=*.md|*.mdc; helper=helpers.bash
}

R.structure{
  setup()→init env; teardown()→cleanup tmp
  ¬leave artifacts!; use tmp for temp files
}

R.assertions{
  assert_success←cmd.ok; assert_failure←cmd.fail
  assert_output --partial←substr; assert_line←specific lines
}

E.⊤{
  @test "fn handles empty input" {
    run my_function ""
    assert_failure
    assert_output --partial "Error: empty input"
  }
}

E.⊥{
  @test "test something" {
    my_function ""  # No run, no assertions
  }
}

Λ.apply{+new BATS tests; review test PRs; debug failures}

P.critical{
  ¬skip run before assert!
  ∀teardown→cleanup tmp!
  test.name=descriptive!
  ¬hardcoded paths→use vars!
}

Γ.fail{
  $output→err msgs; $status→exit code
  $lines→line-by-line; set -x→debug
}
⟧
```
