---
generated: 2026-01-27 12:30
sourceChecksum: 2253728265
beforeTokens: 6278
afterTokens: 1679
confidence: 96%
crux: true
alwaysApply: true
---

> [!IMPORTANT]
> Generated file - do not edit!

# Comprehensive Team Coding Standards

```crux
«CRUX⟨tests/fixtures/sample-rule.md⟩»

# NAMING
JS/TS:{var,fn}=camelCase;{class,iface}=PascalCase;CONST=SCREAMING_SNAKE;enum=Pascal+SNAKE_vals;typeParam=[T,K,TReq]
Python:{var,fn}=snake_case;class=PascalCase;CONST=SCREAMING_SNAKE;_private=underscore prefix
Go:exported=PascalCase;unexported=camelCase;acronyms=consistent(HTTPClient,userID)

# CODE STYLE
Π.principles{fn≤20-30 lines;early return;nest≤3;self-doc names;1 concept/fn;composition≻inheritance;SRP}
Φ.line_length{JS/TS=100/2sp,Python=88/4sp,Go=120/tab,Rust=100/4sp,SQL=80/2sp}
Φ.complexity{cyclomatic≤10!,cognitive≤15!,params≤5!,lines≤30,nest≤3!}

# DOCS
∀public API→JSDoc/docstring{desc,@params,@returns,@throws,@example}
Python=Google-style docstrings;Go=comment above fn

# ERRORS
P.err{¬swallow;log+ctx;custom types;fail fast;actionable msg}
E.err_hierarchy{Base→[Val{Req,Format,Range},Biz{Funds,Dup,State},Integration{Net,Timeout,Unavail},Sys{DB,Cache,Cfg}]}
Φ.err_response{code,message,details{field,value,constraint},requestId,timestamp}

# TESTING
Φ.coverage{line≥80%→90%,branch≥75%→85%,fn≥85%→95%}
P.test_name="should [behavior] when [condition]"
P.test_struct=AAA{Arrange,Act,Assert}
Φ.test_cat{unit→commit,integration→PR,e2e→nightly,perf→weekly,security→PR}
P.mock{ext deps only;¬mock code under test;realistic data;DI;reset between}

# ARCHITECTURE
Π.layers{Presentation→Application→Domain→Infrastructure}
P.deps{inward→domain;domain=no ext deps;infra implements domain ifaces}
Π.structure{src/{domain/{entities,value-objects,services,interfaces},app/{use-cases,services,dtos},infra/{persistence,external-services,config},presentation/{controllers,middleware,validators}}}

# API DESIGN
Λ.http{GET=retrieve,POST=create,PUT=replace,PATCH=partial,DELETE=remove}
P.url{nouns¬verbs;plural;kebab-case;nest relations;query for filter}
Φ.status{200=OK,201=Created,204=NoContent,400=BadReq,401=Unauth,403=Forbidden,404=NotFound,409=Conflict,422=Unprocessable,429=RateLimit,500=ServerErr,503=Unavailable}
R.pagination{data,pagination{page,pageSize,totalPages,totalItems,hasNext,hasPrev},links{self,next,last}}
P.versioning=/api/v{n}/resource

# GIT
P.commit="type(scope): desc\n\nBody\n\nFixes #N\nBREAKING CHANGE: desc"
Φ.commit_type{feat→Minor,fix→Patch,docs|style|refactor|test|chore|ci|build→None,perf→Patch}
P.branch{feature/PROJ-{id}-{desc},fix/PROJ-{id}-{desc},hotfix/PROJ-{id}-{desc},release/v{M.m.p},experiment/{desc}}
P.branch_protect{main=PR+2approvals+CI+¬force,develop=PR+1approval+CI,release/*=PR+2approvals+CI+CODEOWNERS}
R.PR{small<400lines;desc+ctx;link issues;screenshots for UI;update docs;add tests;request CODEOWNERS}

# SECURITY
P.auth{OAuth2.0|OIDC;session mgmt;secure storage(httpOnly);rate limit auth;log auth events}
Φ.input_val{email=RFC5322+domain,phone=E.164,url=https+domain whitelist,num=type+range+precision,str=len+charset,file=type+size+content}
P.data{encrypt@rest(AES-256);TLS1.3@transit;bcrypt≥12 for pwd;field encrypt PII;parameterized queries;sanitize output→¬XSS}
P.secrets{env vars|secrets mgr(Vault,AWS);rotate;audit;¬commit;¬log;¬chat share;¬same across env}
R.headers{CSP:default-src 'self';X-Content-Type-Options:nosniff;X-Frame-Options:DENY;X-XSS-Protection:1;HSTS:31536000;Referrer-Policy:strict-origin-when-cross-origin}

# DATABASE
P.query{indexes for filter/sort;¬SELECT *;EXPLAIN;paginate;conn pool}
P.migration{reversible;¬modify existing;descriptive name(YYYYMMDD_desc);test on prod-like data;backup first}
Φ.db_naming{tables=snake_plural,cols=snake,pk=id,fk={table}_id,idx=idx_{t}_{c},constraint={type}_{t}_{c}}

# LOGGING
Φ.log_level{ERROR=exceptions,WARN=handled unexpected,INFO=biz events,DEBUG=diagnostics,TRACE=dev only}
R.log_format{timestamp,level,service,traceId,spanId,message,context{userId,action,duration}}
Φ.metrics{app=[req rate,err rate,latency p50/95/99],biz=[signups,conversions,txn],infra=[cpu,mem,disk,net],deps=[api latency,failure rate]}
Φ.alerts{err_rate>1%→warn>5%→crit,p99>500ms→warn>2000ms→crit,cpu>70%→warn>90%→crit,mem>75%→warn>90%→crit,disk>80%→warn>95%→crit}

# PERFORMANCE
Φ.response_target{read:p50=50ms/p95=150ms/p99=300ms,write:p50=100ms/p95=300ms/p99=500ms,bg:p50=1s/p95=5s/p99=30s,batch:p50=30s/p95=60s/p99=120s}
Φ.cache{browser:static=1yr,CDN:public=5min,app:session=15min,db:query=1hr}
R.optimize[gzip|brotli,keep-alive,cache,lazy load,async I/O,batch db ops,optimize assets,paginate]

# CODE REVIEW
R.review_check[correctness,security,perf,readability,maintainability,tests,docs]
P.feedback{specific+actionable;explain why;suggest alts;ask questions;ack good work}
Φ.review_time{P0:1hr→4hr,P1:4hr→1d,P2:1d→3d,P3:3d→1wk}

# FEATURE FLAGS
R.flag_impl{name,enabled,rolloutPct,allowedUsers[],allowedGroups[],metadata{}}
Φ.flag_lifecycle{Created→Testing→Rollout→Enabled→Cleanup}

# ACCESSIBILITY
R.WCAG_2.1_AA{Perceivable[alt,captions,contrast≥4.5:1],Operable[keyboard,no seizure,time],Understandable[clear lang,consistent nav,input help],Robust[valid HTML,ARIA,screen reader]}
Φ.a11y_check{contrast:4.5:1 text/3:1 large,focus visible,alt text,heading hierarchy,form labels,keyboard nav,ARIA roles}

# RELEASE
P.semver=MAJOR.MINOR.PATCH{break,feat,fix}
R.release_check[tests pass,CHANGELOG,version bump,docs,security scan,perf benchmarks,rollback plan,notify stakeholders]
Φ.deploy{blue-green=0 downtime,canary=low risk,rolling=standard,recreate=dev only}

Ω{consistency;quality;security;perf;maintainability;a11y;reliability}
∀team→follow;deviation→discuss+doc exception
«/CRUX»
```
