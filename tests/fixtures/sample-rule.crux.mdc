---
generated: 2026-01-30 10:42
sourceChecksum: 2253728265
beforeTokens: 6278
afterTokens: 2232
confidence: 96%
crux: true
alwaysApply: true
---

> [!IMPORTANT]
> Generated file - do not edit!

# Comprehensive Team Coding Standards

```crux
⟦CRUX:sample-rule.md
Ρ{team coding standards}
Κ{fn=function;cls=class;iface=interface;var=variable;const=constant;
  param=parameter;cfg=config;env=environment}

R.naming.js_ts{
  var+fn=camelCase; cls+iface=PascalCase;
  const=SCREAMING_SNAKE_CASE; enum.name=PascalCase,enum.val=SCREAMING_SNAKE;
  type.param=T|K|V|TRequest|TResponse
}
R.naming.py{
  var+fn=snake_case; cls=PascalCase; const=SCREAMING_SNAKE;
  private=_prefix
}
R.naming.go{
  exported=PascalCase; unexported=camelCase;
  acronym=consistent(HTTPClient|userID)
}

R.style{
  fn.lines≤20..30; early.return→avoid.nest; nest.depth≤3;
  self.doc.code; 1concept/fn; composition≻inheritance; SRP!
}
R.format{
  js_ts{line≤100ch;indent=2sp}
  py{line≤88ch;indent=4sp}
  go{line≤120ch;indent=tabs}
  rust{line≤100ch;indent=4sp}
  sql{line≤80ch;indent=2sp}
}
R.complexity{
  cyclomatic≤10!; cognitive≤15!; params≤5!(else→obj);
  fn.lines≤30; nest.depth≤3!
}

R.doc{
  ∀public.API→comprehensive.doc;
  ts→JSDoc[desc+@param+@returns+@throws+@example];
  py→Google.docstring[Args+Returns+Raises+Examples];
  go→comment[desc+params+returns]
}

R.err{
  ¬swallow!; log+ctx!; custom.err.types; fail.fast.unrecoverable;
  actionable.msg!
}
R.err.hierarchy{
  BaseError∋[ValidationError∋[RequiredField,InvalidFormat,OutOfRange],
  BusinessError∋[InsufficientFunds,DuplicateEntity,StateTransition],
  IntegrationError∋[Network,Timeout,ServiceUnavailable],
  SystemError∋[Database,Cache,Configuration]]
}
R.err.response{
  format={error:{code,message,details,requestId,timestamp}}
}

R.test.coverage{
  line≥80%⊕90%; branch≥75%⊕85%; fn≥85%⊕95%
}
R.test.naming{
  pattern="should [behavior] when [condition]"
}
R.test.structure{
  AAA=Arrange»Act»Assert
}
R.test.categories{
  unit→every.commit; integration→every.PR;
  e2e→nightly; perf→weekly; security→every.PR
}
R.test.mocking{
  mock.external.only!; ¬mock.code.under.test!;
  realistic.data; DI; reset.between.tests
}

Π.arch{
  layers=[Presentation,Application,Domain,Infrastructure];
  deps→inward(→domain); domain.no.ext.deps!;
  infra.implements.domain.ifaces; app.orchestrates.domain
}
Π.structure{
  src/[domain/[entities,value-objects,services,interfaces],
  application/[use-cases,services,dtos],
  infrastructure/[persistence,external-services,config],
  presentation/[controllers,middleware,validators]]
}

R.api.rest{
  GET→retrieve(idempotent); POST→create(¬idempotent);
  PUT→replace(idempotent); PATCH→partial(¬idempotent);
  DELETE→remove(idempotent)
}
R.api.url{
  nouns¬verbs; plural; kebab-case;
  nest.for.relations(/users/{id}/orders);
  query.for.filter(?role=admin&active=true)
}
R.api.status{
  200=OK; 201=Created; 204=NoContent;
  400=BadRequest; 401=Unauthorized; 403=Forbidden;
  404=NotFound; 409=Conflict; 422=UnprocessableEntity;
  429=TooManyRequests; 500=InternalError; 503=ServiceUnavailable
}
R.api.pagination{
  ∀list→paginate!;
  response∋{data,pagination:{page,pageSize,totalPages,totalItems,hasNext,hasPrevious},links}
}
R.api.version{
  URL.path=/api/v{n}/resource
}

R.git.commit{
  format="type(scope): description";
  types={feat→minor,fix→patch,docs|style|refactor|test|chore|ci|build→none,
  perf→patch,BREAKING→major}
}
R.git.branch{
  feature/PROJ-{id}-{desc}; fix/PROJ-{id}-{desc};
  hotfix/PROJ-{id}-{desc}; release/v{M}.{m}.{p};
  experiment/{desc}
}
R.git.protection{
  main{PR+2approvals+CI.pass+¬force.push};
  develop{PR+1approval+CI.pass};
  release/*{PR+2approvals+CI.pass+CODEOWNERS}
}
R.git.pr{
  lines<400; desc+context; link.issues; screenshots.for.UI;
  upd.docs; +tests; request.codeowners
}

R.sec.auth{
  OAuth2.0+OIDC; session.mgmt; secure.token.storage(httpOnly);
  rate.limit.auth; log.auth.events
}
R.sec.input{
  email→RFC5322+domain.verify; phone→E.164;
  url→https.whitelist+domain.val; numbers→type+range+precision;
  strings→length+charset; files→type+size+content
}
R.sec.data{
  encrypt.at.rest(AES-256); TLS1.3.in.transit;
  bcrypt(cost≥12); field.level.encrypt.PII;
  parameterized.queries!; sanitize.output.XSS!
}
R.sec.secrets{
  ⊤{env.vars;secrets.mgr(Vault|AWS);rotate;audit}
  ⊥{commit;log;share.via.chat;same.across.envs}
}
R.sec.headers{
  CSP:default-src'self'; X-Content-Type-Options:nosniff;
  X-Frame-Options:DENY; X-XSS-Protection:1;mode=block;
  HSTS:max-age=31536000;includeSubDomains;
  Referrer-Policy:strict-origin-when-cross-origin
}

R.db.query{
  index.filtered+sorted.cols!; ¬SELECT*!;
  EXPLAIN.analyze; paginate; connection.pool
}
R.db.migration{
  reversible(up/down)!; ¬modify.existing!;
  name=YYYYMMDD_description; test.on.prod.like.data; backup.before
}
R.db.naming{
  tables=snake_case+plural; cols=snake_case;
  pk=id; fk={table}_id; idx=idx_{table}_{cols};
  constraint={type}_{table}_{cols}
}

R.log.levels{
  ERROR=exceptions+failures; WARN=unexpected.handled;
  INFO=business.events; DEBUG=diagnostic; TRACE=dev.only
}
R.log.format{
  structured.json∋{timestamp,level,service,traceId,spanId,message,context}
}
R.metrics{
  app=[req.rate,err.rate,latency(p50,p95,p99)];
  business=[signups,conversions,txns];
  infra=[CPU,memory,disk,network];
  deps=[ext.API.latency,failure.rate]
}
R.alerting{
  err.rate{warn>1%,crit>5%}; p99.latency{warn>500ms,crit>2000ms};
  CPU{warn>70%,crit>90%}; memory{warn>75%,crit>90%};
  disk{warn>80%,crit>95%}
}

R.perf.response{
  API.reads{p50≤50ms,p95≤150ms,p99≤300ms};
  API.writes{p50≤100ms,p95≤300ms,p99≤500ms};
  background{p50≤1s,p95≤5s,p99≤30s};
  batch{p50≤30s,p95≤60s,p99≤120s}
}
R.perf.cache{
  browser→static(TTL=1yr); CDN→public.API(TTL=5min);
  app→session+computed(TTL=15min); db→query.results(TTL=1hr)
}
R.perf.optimize{
  compression(gzip|brotli); keep-alive; caching;
  lazy.load; async.IO; batch.db.ops; optimize.assets; paginate
}

R.review.checklist{
  correctness; security; performance; readability;
  maintainability; tests; documentation
}
R.review.feedback{
  ⊤{specific+actionable;explain.why;suggest.alternatives;ask.questions;acknowledge.good}
  ⊥{vague;just.criticize;assume.bad.intent;only.negatives}
}
R.review.response{
  P0{initial≤1hr,resolve≤4hr}; P1{initial≤4hr,resolve≤1day};
  P2{initial≤1day,resolve≤3days}; P3{initial≤3days,resolve≤1week}
}

R.feature.flags{
  iface={name,enabled,rolloutPercentage,allowedUsers,allowedGroups,metadata};
  check=flag.enabled∧(user.allowed∨rollout.hit)
}
R.feature.lifecycle{
  Created→Testing→Rollout→Enabled→Cleanup
}

R.a11y.wcag{
  perceivable[alt.text,captions,contrast≥4.5:1];
  operable[keyboard.accessible,no.seizure,sufficient.time];
  understandable[clear.lang,consistent.nav,input.assist];
  robust[valid.HTML,ARIA,screen.reader.compat]
}
R.a11y.checklist{
  contrast{normal≥4.5:1,large≥3:1}; focus.indicators!;
  alt.text.meaningful.images!; heading.hierarchy(h1→h2→h3);
  form.labels+error.msgs; keyboard.accessible!; ARIA.roles+labels
}

R.release.semver{
  MAJOR=breaking; MINOR=feature(compat); PATCH=fix(compat)
}
R.release.checklist{
  tests.pass; CHANGELOG.upd; version.bump; docs.upd;
  security.scan.pass; perf.benchmarks.met; rollback.plan; notify.stakeholders
}
R.release.deploy{
  blue-green→zero.downtime(medium.risk);
  canary→high.risk.changes(low.risk);
  rolling→standard(medium.risk);
  recreate→dev.only(high.risk)
}

Ω{consistent.style; quality+tested+documented; secure; performant;
  maintainable; accessible; reliable; ∀team→follow!; deviation→discuss+document}
⟧
```
