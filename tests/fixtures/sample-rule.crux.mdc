---
generated: 2026-01-28 15:42
sourceChecksum: "2253728265"
beforeTokens: 6278
afterTokens: 890
confidence: 96%
alwaysApply: true
crux: true
---

> [!IMPORTANT]
> Generated file - do not edit!

# Comprehensive Team Coding Standards

```crux
⟦CRUX:sample-rule.md
Ρ{team coding standards; consistent+maintainable+secure+quality code}

Κ{fn=function; cls=class; var=variable; const=constant; iface=interface;
  cov=coverage; PR=pull request; API=REST endpoint; DB=database;
  PII=personal info; a11y=accessibility}

R.naming.js{
  var+fn=camelCase; cls+iface=PascalCase; const=SCREAMING_SNAKE;
  enum.name=PascalCase; enum.val=SCREAMING_SNAKE;
  type.param=[T|K|V|TRequest|TResponse]
}
R.naming.py{var+fn=snake_case; cls=PascalCase; const=SCREAMING_SNAKE; _private}
R.naming.go{exported=PascalCase; unexported=camelCase; acronym=consistent(HTTPClient|userID)}

R.style{
  fn.small+focused; early return; nest≤3; self-doc; 1concept/fn;
  composition≻inheritance; SRP
}
R.style.format{
  JS/TS:line≤100,indent=2sp;
  Py:line≤88,indent=4sp;
  Go:line≤120,indent=tab;
  Rust:line≤100,indent=4sp;
  SQL:line≤80,indent=2sp
}
R.complexity{
  cyclomatic≤10!; cognitive≤15!; params≤5!→use obj;
  ln/fn≤30; nest≤3!
}

R.docs{∀public API→JSDoc/docstring∋[desc,params+types,return,throws,examples]}

R.err{
  ¬swallow!; log w/ctx; custom err types; fail fast unrecoverable;
  actionable msg;
  hierarchy=BaseError→[ValidationError|BusinessError|IntegrationError|SystemError];
  API.format={error:{code,message,details,requestId,timestamp}}
}

R.test{
  cov.line≥80%⊕90%; cov.branch≥75%⊕85%; cov.fn≥85%⊕95%;
  name="should [behavior] when [condition]";
  pattern=AAA(Arrange»Act»Assert)
}
R.test.category{
  Unit→isolate→∀commit; Integration→interactions→∀PR;
  E2E→user flows→nightly; Perf→response+throughput→weekly;
  Security→SAST/DAST→∀PR
}
R.test.mock{
  mock ext deps only; ¬mock code under test;
  realistic data; prefer DI; reset between tests
}

Π.layers{Presentation→Application→Domain→Infrastructure}
Π.deps{inward→domain; domain=¬ext deps; infra impl domain iface; app orchestrate}

R.api.methods{
  GET=retrieve,idempotent; POST=create,¬idempotent;
  PUT=replace,idempotent; PATCH=partial,¬idempotent;
  DELETE=remove,idempotent
}
R.api.url{nouns¬verbs; plural; kebab-case; nest relations:/users/{id}/orders}
R.api.codes{200=OK;201=Created;204=NoContent;400=BadRequest;401=Unauth;403=Forbidden;404=NotFound;500=ServerError}
R.api{∀list→pagination w/data+meta+links; versioning=/api/v1/*}

Γ.git.commit{
  conventional=type(scope):desc;
  types=[feat→Minor|fix→Patch|docs|style|refactor|perf|test|chore|ci|build]
}
Γ.git.branch{
  feature/PROJ-{id}-{desc}; fix/PROJ-{id}-{desc};
  hotfix/PROJ-{id}-{desc}; release/v{M}.{m}.{p}
}
Γ.git.main{PR!; ≥2approvals; CI.pass; ¬force push}
Γ.git.PR{lines<400; desc w/ctx; link issues; +tests for new fn}

P.sec.auth{OAuth2.0+OIDC; session mgmt; secure token storage; rate limit auth; log auth events}
P.sec.input{validate:email(RFC5322)|phone(E.164)|URL(https whitelist)|nums|strings|files}
P.sec.data{
  encrypt@rest=AES-256; transit=TLS1.3;
  pwd=bcrypt(cost≥12); field-level encrypt PII;
  parameterized queries; sanitize output→¬XSS
}
P.sec.secrets{
  DO:env vars+secrets mgr+rotate+audit;
  DONT:¬commit+¬log sensitive+¬share via chat+¬reuse across env
}
P.sec.headers{CSP;X-Content-Type-Options;X-Frame-Options;X-XSS-Protection;HSTS;Referrer-Policy}

R.db.query{idx filtered/sorted cols; ¬SELECT *; EXPLAIN; pagination; connection pool}
R.db.migration{reversible!; ¬modify existing; name=YYYYMMDD_desc; test on prod-like; backup first}
R.db.naming{tables=snake_case+plural; cols=snake_case; PK=id; FK={table}_id; idx=idx_{table}_{cols}}

R.log.levels{ERROR|WARN|INFO|DEBUG|TRACE}
R.log.format{JSON∋[timestamp,level,service,traceId,spanId,message,context]}
R.metrics{
  app:req rate+err rate+latency[p50,p95,p99];
  biz:signups+conversions+txns;
  infra:CPU+mem+disk+net
}
R.alert{err>1%→warn,>5%→crit; p99>500ms→warn,>2s→crit; CPU>70%→warn,>90%→crit; mem>75%→warn,>90%→crit}

R.perf.latency{
  API.read:p50=50ms,p95=150ms,p99=300ms;
  API.write:p50=100ms,p95=300ms,p99=500ms
}
R.perf.cache{browser=static,1yr; CDN=public,5min; app=session,15min; DB=queries,1hr}
R.perf.checklist{compression;keep-alive;caching;lazy load;async I/O;batch DB;optimize assets;pagination}

Λ.review.checklist{correctness;security;performance;readability;maintainability;tests;docs}
Λ.review.SLA{P0:1hr init,4hr resolve; P1:4hr init,1d resolve; P2:1d init,3d resolve}

R.feature.flags{lifecycle=Created→Testing→Rollout→Enabled→Cleanup}

R.a11y{WCAG2.1 AA; perceivable+operable+understandable+robust; contrast:text≥4.5:1,large≥3:1; keyboard accessible; ARIA labels}

R.release{semver=MAJOR.MINOR.PATCH; deploy=[Blue-Green|Canary|Rolling|Recreate]}

Ω{quality≻speed; consistent; maintainable; secure; verified}
⟧
```
